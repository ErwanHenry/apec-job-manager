# ==============================================================================
# APEC JOB MANAGER - ENVIRONMENT VARIABLES
# ==============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env file to version control!

# ==============================================================================
# SERVER CONFIGURATION
# ==============================================================================
NODE_ENV=production
PORT=3000
API_BASE_URL=https://your-app.vercel.app

# ==============================================================================
# APEC CREDENTIALS
# ==============================================================================
# Your APEC account credentials for automation
APEC_EMAIL=your.email@company.com
APEC_PASSWORD=your_secure_password
APEC_COMPANY_ID=your_company_id

# ==============================================================================
# DATABASE CONFIGURATION (Vercel Postgres)
# ==============================================================================
# This will be auto-configured by Vercel Postgres addon
# Format: postgresql://user:password@host:port/database?sslmode=require
DATABASE_URL=postgresql://user:password@localhost:5432/apec_job_manager

# Prisma connection pool settings
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_CONNECTION_TIMEOUT=20000

# ==============================================================================
# VERCEL POSTGRES (Auto-configured by Vercel)
# ==============================================================================
# These are automatically set by Vercel when you add Postgres storage
# POSTGRES_URL=
# POSTGRES_URL_NON_POOLING=
# POSTGRES_USER=
# POSTGRES_HOST=
# POSTGRES_PASSWORD=
# POSTGRES_DATABASE=

# ==============================================================================
# VERCEL KV (Redis) - For caching and rate limiting
# ==============================================================================
# These are automatically set by Vercel when you add KV storage
# KV_REST_API_URL=
# KV_REST_API_TOKEN=
# KV_REST_API_READ_ONLY_TOKEN=
# KV_URL=

# ==============================================================================
# VERCEL BLOB STORAGE - For file uploads and exports
# ==============================================================================
# These are automatically set by Vercel when you add Blob storage
# BLOB_READ_WRITE_TOKEN=

# ==============================================================================
# AUTHENTICATION & SECURITY
# ==============================================================================
# Generate a secure random string for JWT secret
# You can use: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_jwt_secret_minimum_32_characters_long
JWT_EXPIRES_IN=24h

# NextAuth (if using NextAuth for authentication)
NEXTAUTH_URL=https://your-app.vercel.app
NEXTAUTH_SECRET=your_nextauth_secret_minimum_32_characters_long

# ==============================================================================
# RATE LIMITING
# ==============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# ==============================================================================
# LOGGING CONFIGURATION
# ==============================================================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=./logs/app.log
LOG_MAX_FILES=30d
LOG_MAX_SIZE=10m

# ==============================================================================
# AUTOMATION SETTINGS
# ==============================================================================
# Enable automatic synchronization with APEC
AUTO_SYNC_ENABLED=true

# Cron schedule for automatic sync (every 6 hours)
# Format: minute hour day-of-month month day-of-week
AUTO_SYNC_CRON=0 */6 * * *

# Maximum number of concurrent job processing
MAX_CONCURRENT_JOBS=5

# Timeout for HTTP requests (in milliseconds)
TIMEOUT_MS=30000

# Retry settings
MAX_RETRIES=3
RETRY_DELAY_MS=1000

# Puppeteer settings
PUPPETEER_HEADLESS=true
PUPPETEER_TIMEOUT=30000

# ==============================================================================
# REPORTING & NOTIFICATIONS
# ==============================================================================
# Email configuration for automated reports
REPORT_EMAIL_ENABLED=true
REPORT_EMAIL_RECIPIENTS=reports@company.com,manager@company.com

# SMTP Configuration (for email sending)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your.email@gmail.com
SMTP_PASSWORD=your_gmail_app_specific_password

# Gmail App Password: https://support.google.com/accounts/answer/185833
# Enable 2FA on your Google account first, then create an app password

# Slack webhook for notifications (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# ==============================================================================
# DASHBOARD CONFIGURATION
# ==============================================================================
DASHBOARD_PORT=3001
DASHBOARD_URL=https://your-app.vercel.app

# API endpoint for dashboard
VITE_API_URL=https://your-app.vercel.app/api

# ==============================================================================
# MONITORING & ANALYTICS
# ==============================================================================
# Vercel Analytics (automatically enabled on Vercel)
VERCEL_ANALYTICS_ID=

# Sentry for error tracking (optional but recommended)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_REPLAY_SAMPLE_RATE=0.1

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================
FEATURE_AUTO_SYNC=true
FEATURE_EMAIL_REPORTS=true
FEATURE_SLACK_NOTIFICATIONS=false
FEATURE_ADVANCED_ANALYTICS=true

# ==============================================================================
# MAINTENANCE MODE
# ==============================================================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is under maintenance. Please try again later.

# ==============================================================================
# CORS CONFIGURATION
# ==============================================================================
CORS_ORIGIN=https://your-app.vercel.app
CORS_CREDENTIALS=true

# ==============================================================================
# SESSION CONFIGURATION
# ==============================================================================
SESSION_SECRET=your_session_secret_minimum_32_characters_long
SESSION_MAX_AGE=86400000

# ==============================================================================
# CACHE CONFIGURATION
# ==============================================================================
CACHE_TTL=3600
CACHE_CHECK_PERIOD=600

# ==============================================================================
# FILE UPLOAD LIMITS
# ==============================================================================
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=pdf,doc,docx,txt

# ==============================================================================
# TIMEZONE
# ==============================================================================
TZ=Europe/Paris

# ==============================================================================
# DEVELOPMENT ONLY
# ==============================================================================
# These should only be used in development environment
DEBUG=false
VERBOSE_LOGGING=false
